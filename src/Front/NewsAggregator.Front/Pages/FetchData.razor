@page "/fetchdata"
@using NewsAggregator.Front.Data
@inject ArticleFinder ForecastService

<h1>Articles list</h1>

@if (articles == null) {
    <p>
        <em>Loading...</em>
    </p>
}
else {
    <div class="row articles">
        @foreach (var article in articles) {
            <div class="col-sm-6 col-md-6 col-lg-4">
                <Article @key="article.Id" Value="@article"></Article>
            </div>
        }
    </div>
}

@code {
    private IReadOnlyCollection<ArticleListItem> articles;

    protected override async Task OnInitializedAsync()
    {
        articles = await ForecastService.List();
    }

}